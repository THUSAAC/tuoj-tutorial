<style>div#preview img { width: 100%; } </style>

## TUOJ 题目配置指南 <small> for 集训队作业 </small>
### 比赛信息
每人的 "比赛列表" 中会有两场比赛 (如下图)

![](/staticdata/tutorial/pics/contests.png)

其中第一场为你需要做的练习题. 你在这场比赛中的身份为选手.

第二场为你负责的三道题. 在题目编辑 Deadline 前你的身份是出题人. 你可以任意编辑/提交此比赛中的题目.

### 题目编辑
题目编辑页面由多个部分构成. 此文档将从上到下进行介绍.

#### 基础信息
![](/staticdata/tutorial/pics/title.png)

题目标题为这道题显示的名称. 默认名称为题目编号, 请在编辑题目时自行更改.

服务器本地路径 ** 请不要更改**.

ssh 公钥和 git url 用于通过 git 仓库方式同步数据. (公钥用于支持私有仓库) 如数据较大, 上传失败时请考虑使用此方式. (同步后的数据如何查看将在后面说明)

#### 文件上传
文件上传部分界面如下.

![](/staticdata/tutorial/pics/upload0.png)

其中文件选择框可多选.

TUOJ 将文件分类为 "公共" 和 "私有" 两种.

私有目录下包含题目数据, SPJ 等.

公共目录下包含题面上需要的图片, 样例数据压缩包等.

上传到私有目录时会做如下显示. 

![](/staticdata/tutorial/pics/upload1.png)

上传到公共目录时会额外地返回一个链接. 此链接为上传的文件的链接. 可将此链接放在题面中. (注意: 刷新将导致此链接消失, 消失的链接 **无法再找回**) 效果如下图.


![](/staticdata/tutorial/pics/uploadpublic.png)

上传到私有目录的文件可以通过 "查看服务器本地文件" 功能查看. 效果如下.

![](/staticdata/tutorial/pics/upload2.png)

#### 编译方式
出题人可指定编译方式. 默认没有编译方式. TUOJ 提供了一些快捷配置的方案. 

该部分初始时如下.

![](/staticdata/tutorial/pics/compile0.png)

点击 "使用默认传统题设置" 后会自动设置为传统题 (支持的语言为 c, cpp, pascal). 效果如下.


![](/staticdata/tutorial/pics/compile1.png)

出题人也可以根据需要使用 O2 优化及其它编译参数或者使用其它编译器. 

#### 测试点配置
测试点表格第一行为添加/修改测试点之用.

使用 *尖括号* 可以表示与测试点编号有关的数字. 其中用变量 `i` 代表测试点编号 (从0开始). 详见以下的例子.

![](/staticdata/tutorial/pics/cases0.png)

每个测试点的时间 / 空间限制也可以单独修改.

![](/staticdata/tutorial/pics/cases1.png)

手形图标的意义为根据 "添加" 这行的信息, 重填所有的测试点信息. 如果 "添加" 这栏为空, 则不对这一列进行修改.

其中所有的文件名都以在上一节中介绍的查看私有目录下文件中的文件名为准. (如你上传了一个文件叫 `1.in` , 就在这里填 `1.in`)

#### SPJ
默认对比方式为忽略行末空格和文尾回车的全文对比.

若不需要 SPJ, 则该栏留空.

若需要 SPJ, 请参照以下标准执行.

SPJ 需为一个 linux 下的可执行文件, 并上传到题目私有目录. 评测机的操作系统为 Ubuntu 16.04 LTS.

SPJ 有六个命令行参数, 分别为: 

* 输入文件名
* 选手输出文件名
* 标准输出文件名
* 满分文件名
* 分数文件名
* 额外信息文件名

其中后两个文件需要 SPJ 自行创建.

这里是一个比较浮点数的 cpp 实现的 SPJ 的[样例源码](https://oj.thusaac.org/staticdata/132.F7RvQtID9D241kUS/source/spj.cpp).

注意: 分数只能是一个整数.


#### 完成编辑
当你更新了数据 / 配置时 (更新题面时不需要), 你需要在题面编辑的上方点击 "同步配置到服务器".

![](/staticdata/tutorial/pics/finish.png)

当你的题目已经编辑完成, 请勾选 "此题目已完成编辑". 此时其他选手才能够提交该题.

如果你编辑的题目在提交时显示 "System Error" 或 "SPJ Error", 请先检查你的题目配置是否正确.

#### 题面编辑
题面为 markdown + mathjax 格式. 

注意: 由于 OJ 不会自动给出题目信息, 请在题目描述中告知选手该题目的时间 / 空间限制等信息.

行内数学公式用单个美元符号括起来. 单行数据公式用两个美元符号括起来.

支持 markdown 表格.

可以使用预览功能对你写的题面进行预览和检查.

使用 "更新题面" 按钮将题面传送到服务器上.

一个例子如下.

![](/staticdata/tutorial/pics/text.png)